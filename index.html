564V9h3.564v13.019z"/>
                        </svg>
                    </a>
                    <a href="#" class="text-gray-400 hover:text-white transition-colors">
                        <span class="sr-only">Twitter</span>
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"/>
                        </svg>
                    </a>
                </div>
                <p class="text-gray-500 text-sm">© 2025 Creative AI Studio. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- プロジェクト詳細モーダル -->
    <div class="modal-backdrop hidden" id="project-modal">
        <div class="modal-content">
            <div class="flex justify-between items-start mb-6">
                <h3 class="text-2xl font-bold text-gray-800" id="modal-title">プロジェクト詳細</h3>
                <button class="text-gray-500 hover:text-gray-700 p-1" id="close-modal-button">
                    <span class="material-icons text-2xl">close</span>
                </button>
            </div>
            <img class="w-full h-64 object-cover rounded-lg mb-6" id="modal-image" src="" alt="">
            <div class="mb-4" id="modal-tags"></div>
            <p class="text-gray-600 leading-relaxed mb-6" id="modal-description"></p>
            <div class="flex gap-4">
                <a class="google-btn" href="#" target="_blank">
                    <span class="material-icons mr-2">launch</span>
                    プロジェクトを見る
                </a>
                <a class="google-btn google-btn-outline" href="#contact">
                    <span class="material-icons mr-2">message</span>
                    お問い合わせ
                </a>
            </div>
        </div>
    </div>

    <script>
        // モバイルメニュー
        const mobileMenuButton = document.getElementById('mobile-menu-button');
        const mobileMenu = document.getElementById('mobile-menu');

        if (mobileMenuButton && mobileMenu) {
            mobileMenuButton.addEventListener('click', () => {
                mobileMenu.classList.toggle('hidden');
            });
        }

        // スムーススクロール
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                if (mobileMenu && !mobileMenu.classList.contains('hidden')) {
                    mobileMenu.classList.add('hidden');
                }
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // プロジェクトモーダル
        const projectModal = document.getElementById('project-modal');
        const closeModalButton = document.getElementById('close-modal-button');
        const modalImage = document.getElementById('modal-image');
        const modalTitle = document.getElementById('modal-title');
        const modalTagsContainer = document.getElementById('modal-tags');
        const modalDescription = document.getElementById('modal-description');
        const viewDetailsButtons = document.querySelectorAll('.view-details-button');

        function closeModal() {
            if (projectModal) {
                projectModal.classList.add('hidden');
                document.body.style.overflow = 'auto';
            }
        }

        function openModal(card) {
            if (!projectModal || !modalTitle || !modalDescription || !modalImage || !modalTagsContainer) {
                return;
            }

            const title = card.dataset.title;
            const description = card.dataset.description;
            const image = card.dataset.image;
            const tags = card.dataset.tags ? card.dataset.tags.split(',') : [];

            modalTitle.textContent = title || 'プロジェクト';
            modalDescription.textContent = description || '説明がありません';
            modalImage.src = image || '';
            modalImage.alt = (title || 'プロジェクト') + " のイメージ";

            modalTagsContainer.innerHTML = '';
            tags.forEach(tagText => {
                if (tagText && tagText.trim()) {
                    const tagElement = document.createElement('span');
                    tagElement.className = 'project-tag';
                    tagElement.textContent = tagText.trim();
                    modalTagsContainer.appendChild(tagElement);
                }
            });

            projectModal.classList.remove('hidden');
            document.body.style.overflow = 'hidden';
        }

        // イベントリスナー
        viewDetailsButtons.forEach(button => {
            button.addEventListener('click', (e) => {
                e.preventDefault();
                e.stopPropagation();
                const card = e.target.closest('.project-card');
                if (card) {
                    openModal(card);
                }
            });
        });

        if (closeModalButton) {
            closeModalButton.addEventListener('click', (e) => {
                e.preventDefault();
                e.stopPropagation();
                closeModal();
            });
        }

        if (projectModal) {
            projectModal.addEventListener('click', (e) => {
                if (e.target === projectModal) {
                    closeModal();
                }
            });
        }

        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && projectModal && !projectModal.classList.contains('hidden')) {
                closeModal();
            }
        });

        // コンタクトフォーム
        const contactForm = document.getElementById('contact-form');
        if (contactForm) {
            contactForm.addEventListener('submit', function(e) {
                e.preventDefault();
                
                const name = document.getElementById('name')?.value || '';
                const email = document.getElementById('email')?.value || '';
                const projectType = document.getElementById('project-type')?.value || '';
                const message = document.getElementById('message')?.value || '';
                
                if (!name || !email || !message) {
                    alert('必須フィールドを入力してください。');
                    return;
                }
                
                const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                if (!emailRegex.test(email)) {
                    alert('有効なメールアドレスを入力してください。');
                    return;
                }
                
                alert('お問い合わせありがとうございます！48時間以内にご返信いたします。');
                this.reset();
            });
        }

        // ナビゲーションの背景変更
        const navbar = document.querySelector('.navbar');
        if (navbar) {
            window.addEventListener('scroll', function() {
                if (window.scrollY > 100) {
                    navbar.style.background = 'rgba(255, 255, 255, 0.98)';
                    navbar.style.borderBottom = '1px solid #e5e7eb';
                } else {
                    navbar.style.background = 'rgba(255, 255, 255, 0.95)';
                    navbar.style.borderBottom = '1px solid #e8eaed';
                }
            });
        }

        // スクロールアニメーション
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver(function(entries) {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = '1';
                    entry.target.style.transform = 'translateY(0)';
                }
            });
        }, observerOptions);

        document.addEventListener('DOMContentLoaded', function() {
            const animatedElements = document.querySelectorAll('.google-card, .feature-icon');
            animatedElements.forEach(el => {
                el.style.opacity = '0';
                el.style.transform = 'translateY(20px)';
                el.style.transition = 'all 0.6s ease';
                observer.observe(el);
            });

            console.log('Creative AI Studio loaded successfully');
        });

        // デバッグ用
        window.emergencyCloseModal = closeModal;
    </script>
</body>
</html>